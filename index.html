<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
  </head>
  <body>
    <script>
   var config = {
       type: Phaser.AUTO,
       width: 800,
       height: 600,
       physics: {
           default: 'arcade',
           arcade: {
               gravity: { y: 0 }
           }
       },
       scene: {
           preload: preload,
           create: create,
           update: update
       }
   };

   var game = new Phaser.Game(config);
   var emitter;
   var emitterTwo;
   var cursors;
   var rocket;
   var score = 0;

   function preload () // preload
   {
       this.load.image('particle', 'assets/textures/particle.png');
       this.load.image('rocket', 'assets/textures/rocket.png');
   }

   function create ()
   {

     var scoreText = this.add.text(100, 100, 'Score: ' + score);
     scoreText.setTint(0xff00ff, 0xffff00, 0x0000ff, 0xff0000);

      this.physics.world.setBoundsCollision(true, true, true, false);
      rocket = this.physics.add.sprite(400, 250, 'rocket');
      rocket.scaleX = 2;
      rocket.scaleY = 2;
      rocket.setCollideWorldBounds(true);
      cursors = this.input.keyboard.createCursorKeys();

       var particles = this.add.particles('particle'); // Particle to use in the emitter.
       emitter = particles.createEmitter({ // The emitter.
         speed: 50, // Speed of the particles.
         scale: {start: 1.5, end: 0}, // How big the particles will be at start and what theyll shrink to.
         blendMode: 'ADD', // Blend mode to use.
         tint: 0x0000ff, // Tint to use.
         gravityY: 300
       });

       emitterTwo = particles.createEmitter({ // The emitter.
         speed: 50, // Speed of the particles.
         scale: {start: 1.5, end: 0}, // How big the particles will be at start and what theyll shrink to.
         blendMode: 'ADD', // Blend mode to use.
         tint: 0xff8800, // Tint to use.
         gravityY: 300
       });

       rocket.setOrigin(0.5, 1);
       emitter.startFollow(rocket);
       emitterTwo.startFollow(rocket);

       this.input.on('pointerdown', function(pointer){
          score += 1;
       }, this);

   }

   function update()
   {
     rocket.setVelocity(0);
     if(cursors.left.isDown)
     {
       rocket.setVelocityX(-300);
     }
     else if(cursors.right.isDown)
     {
       rocket.setVelocityX(300);
     }
     if(cursors.up.isDown)
     {
       rocket.setVelocityY(-300);
     }
     else if(cursors.down.isDown)
     {
       rocket.setVelocityY(300);
     }

    this.input.on('pointerdown', function(pointer){
        score += 1;
        scoreText = this.add.text(100, 100, 'Score: ' + score);
     }, this);

   }

   </script>
  </body>
</html>
